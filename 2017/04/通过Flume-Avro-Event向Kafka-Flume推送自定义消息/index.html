<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Python,Kafka,Flume,Avro," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="背景目前在项目中使用了Kafka+Flume的组合将消息落地到HDFS中。由于某些业务相关的逻辑，在Headers中加入了参数并在HDFS落地时使用这些参数分目录进行持久化。使用HTTP Source配合JSONHandler测试通过，转到Kafka Source时却发现，找不到相关的解决方案。">
<meta name="keywords" content="Python,Kafka,Flume,Avro">
<meta property="og:type" content="article">
<meta property="og:title" content="通过Flume Avro Event向Kafka+Flume推送自定义消息">
<meta property="og:url" content="http://romain-li.github.io/2017/04/通过Flume-Avro-Event向Kafka-Flume推送自定义消息/index.html">
<meta property="og:site_name" content="逻辑蛮力">
<meta property="og:description" content="背景目前在项目中使用了Kafka+Flume的组合将消息落地到HDFS中。由于某些业务相关的逻辑，在Headers中加入了参数并在HDFS落地时使用这些参数分目录进行持久化。使用HTTP Source配合JSONHandler测试通过，转到Kafka Source时却发现，找不到相关的解决方案。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-10-15T13:59:28.560Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="通过Flume Avro Event向Kafka+Flume推送自定义消息">
<meta name="twitter:description" content="背景目前在项目中使用了Kafka+Flume的组合将消息落地到HDFS中。由于某些业务相关的逻辑，在Headers中加入了参数并在HDFS落地时使用这些参数分目录进行持久化。使用HTTP Source配合JSONHandler测试通过，转到Kafka Source时却发现，找不到相关的解决方案。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://romain-li.github.io/2017/04/通过Flume-Avro-Event向Kafka-Flume推送自定义消息/"/>





  <title>通过Flume Avro Event向Kafka+Flume推送自定义消息 | 逻辑蛮力</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-112588543-1', 'auto');
  ga('send', 'pageview');
</script>





</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">逻辑蛮力</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">技术宅基地</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://romain-li.github.io/2017/04/通过Flume-Avro-Event向Kafka-Flume推送自定义消息/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="家肥包">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逻辑蛮力">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">通过Flume Avro Event向Kafka+Flume推送自定义消息</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-24T08:14:48+00:00">
                2017-04-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>目前在项目中使用了Kafka+Flume的组合将消息落地到HDFS中。<br>由于某些业务相关的逻辑，在Headers中加入了参数并在HDFS落地时使用这些参数分目录进行持久化。使用HTTP Source配合JSONHandler测试通过，转到Kafka Source时却发现，找不到相关的解决方案。</p>
<a id="more"></a>
<p>示意图：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Tornado -&gt; Kafka -&gt; | Kafka Source -&gt; Channel -&gt; HDFS Sink | -&gt; HDFS</span><br><span class="line">                    | (Flume Agent)                        |</span><br></pre></td></tr></table></figure></p>
<p>Flume的相关配置网上已经非常多了，也可以参考<a href="https://flume.apache.org/FlumeUserGuide.html" target="_blank" rel="noopener">Flume配置文档</a>，关键配置如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.sinks.s_hdfs.hdfs.path = hdfs://localhost:8022/%&#123;project_id&#125;/%y-%m-%d/%H%M</span><br></pre></td></tr></table></figure></p>
<h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><p>翻阅官方文档，发现可以通过Kafka Source中的<code>useFlumeEventFormat</code>参数解析相关头信息，但是官方及网上所能找到的示例均是配合Kafka Sink使用的，并未提及此处的Flume Avro binary format。</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property Name</th>
<th style="text-align:left">Default</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">useFlumeEventFormat</td>
<td style="text-align:left">false</td>
<td style="text-align:left">By default events are put as bytes onto the Kafka topic directly from the event body. Set to true to store events as the Flume Avro binary format. Used in conjunction with the same property on the KafkaSource or with the parseAsFlumeEvent property on the Kafka Channel this will preserve any Flume headers for the producing side.</td>
</tr>
</tbody>
</table>
<p>在<a href="https://github.com/apache/flume/blob/release-1.6.0/flume-ng-core/src/main/java/org/apache/flume/serialization/FlumeEventAvroEventSerializer.java#L30" target="_blank" rel="noopener">Flume源码</a>中可以找到相关的Schema。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"type"</span>: <span class="string">"record"</span>,</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"Event"</span>,</span><br><span class="line">  <span class="string">"fields"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"name"</span>: <span class="string">"headers"</span>,</span><br><span class="line">      <span class="string">"type"</span>: &#123;</span><br><span class="line">        <span class="string">"type"</span>: <span class="string">"map"</span>,</span><br><span class="line">        <span class="string">"values"</span>: <span class="string">"string"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"name"</span>: <span class="string">"body"</span>,</span><br><span class="line">      <span class="string">"type"</span>: <span class="string">"bytes"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>有了Schema，那么接下来只要在Python中实现Avro的序列化即可，使用其他语言也是类似的思路。<br>无奈Avro几乎没有什么Python的文档，只能自己去看源码。<br>用StringIO配合DataFileWriter尝试了一下，Flume后台解析报错，原因是DataFileWriter会写入额外的头信息或进行额外压缩：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">KafkaSource EXCEPTION, &#123;&#125;</span><br><span class="line">java.lang.IndexOutOfBoundsException</span><br><span class="line">	at java.io.ByteArrayInputStream.read(ByteArrayInputStream.java:180)</span><br><span class="line">	at org.apache.avro.io.DirectBinaryDecoder.doReadBytes(DirectBinaryDecoder.java:184)</span><br><span class="line">	at org.apache.avro.io.BinaryDecoder.readString(BinaryDecoder.java:263)</span><br><span class="line">	at org.apache.avro.io.ResolvingDecoder.readString(ResolvingDecoder.java:201)</span><br><span class="line">	at org.apache.avro.generic.GenericDatumReader.readString(GenericDatumReader.java:430)</span><br><span class="line">	...</span><br></pre></td></tr></table></figure>
<p>根据<a href="https://github.com/apache/flume/blob/trunk/flume-ng-sources/flume-kafka-source/src/main/java/org/apache/flume/source/kafka/KafkaSource.java#L231" target="_blank" rel="noopener">Flume源码</a>来看，需要使用Python使用Avro实现一个等价于Java中<code>DirectBinaryEncoder</code>的编码逻辑，由于Python的Avro源码相对比较简单，只能使用<code>BinaryEncoder</code>与<code>DatumWriter</code>自行实现相关的逻辑了。</p>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>使用Python + Kafka + Flume，通过指定Header内参数的方式，控制HDFS的持久化目录。</p>
<ol>
<li><p>配置Flume的Kafka Sink：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">event.sinks.s_hdfs.hdfs.useFlumeEventFormat = true</span><br><span class="line">event.sinks.s_hdfs.hdfs.path = hdfs://localhost:8022/%&#123;project_id&#125;/%y-%m-%d/%H%M</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装Python的Avro相关依赖：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python-dev libsnappy-dev</span><br><span class="line">sudo pip install python-snappy avro</span><br></pre></td></tr></table></figure>
</li>
<li><p>Python端测试代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> avro.schema</span><br><span class="line"><span class="keyword">from</span> avro.io <span class="keyword">import</span> BinaryEncoder, DatumWriter</span><br><span class="line"><span class="keyword">from</span> StringIO <span class="keyword">import</span> StringIO</span><br><span class="line"><span class="keyword">from</span> kafka <span class="keyword">import</span> KafkaProducer</span><br><span class="line"></span><br><span class="line">SCHEMA = avro.schema.parse(<span class="string">"""</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">  "type": "record",</span></span><br><span class="line"><span class="string">  "name": "Event",</span></span><br><span class="line"><span class="string">  "fields": [</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">      "name": "headers",</span></span><br><span class="line"><span class="string">      "type": &#123;</span></span><br><span class="line"><span class="string">        "type": "map",</span></span><br><span class="line"><span class="string">        "values": "string"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">      "name": "body",</span></span><br><span class="line"><span class="string">      "type": "bytes"</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  ]</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">"""</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">encode</span><span class="params">(data)</span>:</span></span><br><span class="line">    buf = StringIO()</span><br><span class="line">    encoder = BinaryEncoder(buf)</span><br><span class="line">    writer = DatumWriter(SCHEMA)</span><br><span class="line">    writer.write(data, encoder)</span><br><span class="line">    output = buf.getvalue()</span><br><span class="line">    <span class="keyword">return</span> output</span><br><span class="line"></span><br><span class="line">value = encode(&#123;<span class="string">"headers"</span>: &#123;<span class="string">"project_id"</span>: <span class="string">"0"</span>&#125;, <span class="string">"body"</span>: <span class="string">"body"</span>&#125;)</span><br><span class="line">client = KafkaProducer(bootstrap_servers=<span class="string">'localhost:9092'</span>)</span><br><span class="line">client.send(<span class="string">'event'</span>, value)</span><br><span class="line">client.flush()</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://flume.apache.org/FlumeUserGuide.html" target="_blank" rel="noopener">Flume配置文档</a></li>
<li><a href="https://github.com/apache/flume" target="_blank" rel="noopener">Flume源码</a></li>
<li><a href="https://github.com/apache/avro" target="_blank" rel="noopener">Avro源码</a></li>
<li><a href="https://github.com/phunt/avro-rpc-quickstart#python" target="_blank" rel="noopener">Python Avro Demo</a></li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Python/" rel="tag"># Python</a>
          
            <a href="/tags/Kafka/" rel="tag"># Kafka</a>
          
            <a href="/tags/Flume/" rel="tag"># Flume</a>
          
            <a href="/tags/Avro/" rel="tag"># Avro</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/02/自动部署Hexo站点至Github/" rel="next" title="自动部署Hexo站点至Github">
                <i class="fa fa-chevron-left"></i> 自动部署Hexo站点至Github
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/06/初次安装树莓派/" rel="prev" title="初次安装树莓派">
                初次安装树莓派 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <img class="site-author-image" itemprop="image"
              src="/images/avatar.jpg"
              alt="家肥包" />
          
            <p class="site-author-name" itemprop="name">家肥包</p>
            <p class="site-description motion-element" itemprop="description"></p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/romain-li" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i></a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#背景"><span class="nav-number">1.</span> <span class="nav-text">背景</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#过程"><span class="nav-number">2.</span> <span class="nav-text">过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#结论"><span class="nav-number">3.</span> <span class="nav-text">结论</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考资料"><span class="nav-number">4.</span> <span class="nav-text">参考资料</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 &mdash; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart-o"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">家肥包</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">主题 &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
